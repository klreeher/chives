language: python
matrix:
  include:
    - python: 3.5
    - python: 3.6
    - python: 3.7
    dist: xenial
    sudo: true

services:
  - docker

before_install:
  - docker build -t kreeher/chives .
  - docker ps -a
 # - docker run kreeher/chives

install:
  - pip install pipenv
  - pipenv install
  - pytest --collect-only

# todo: add tests and require pass
deploy:
  provider: script
  script: bash docker_push
  on:
    branch: master